# CS50 Lab 5
## Sabrina Jain, CS50 Winter 2020

### Testing 'indexer'

To test my implementation of the TSE indexer, I created a bash testing script called [testing.sh](testing.sh). This script extensively goes through almost every test case I could think of given the provided tse-output files (except once we get to `indextest.c`, which I will explain before).

The first suite of test cases that I examine are the cases that should fail:  
1. 1 argument  
2. 2 arguments  
3. 3 arguments + non-existent directory  
4. 3 arguments + non-crawler produced directory  
5. 3 arguments + unwriteable file

Next I move on to testing `indexer.c`. I run the program on every crawler-produced directory given in tse-output (letters, toscrape and wikipedia at all depths) to make sure I am thorough and to make sure the indexer works at many different depths. To make sure that the generated indexes are correct according to specs, I sort all of my generated indexes and the given tse-output indexes and make sure there are no differences between both using a modified version of the regression tester I wrote for Lab2 (the main difference is that I don't compare the testing files themselves, because the code is slightly different as the files sorted have different names). Equivalency is signified by the message "No Differences" outputed after running the regression tester on both sorting scripts (`sortgiven/sorting_index.sh` and `sortmine/sorting_index.sh`).

After I test `indextest.c`. I do this by first running `indextest.c` on a small index file (letters, depth 0). Then I create sorted versions of both the original index for letters depth 0 generated by my indexer and the loaded index created by `indextest.c`. Next I compare the two sorted files using the `brief` Linux command. The output "No Differences" signifies equivalency. I repeat this same process using a larger index file, toscrape depth 1, in order to confirm it is not just a coincidence that `indextest.c` worked. Because of the amount of code required to run a single test of the validity of `indextest.c`, I stop here as (in my opinion), running other tests of similar files (just different sizes) would likely be redundant.

### Test run

An example test run is in `testing.out`, built with

	make test &> testing.out

In that file one can see the progress of the entire testing script ([testing.sh](testing.sh)). 

### Limitations

Other than the fact that I couldn't test every case for `indextest.c`, this testing plan should cover what I can think of to make sure the indexer is up to specs. However, if we disregard the specs, much more testing (and error-handling within the implemntation of indexer itself) would have to be done. We would need to look at poorly formated index files, directories that appear to be crawler produced but has badly formatted pages and/or gaps in page numbers, etc. Though in that case, the entire implementation might have to be rethought through.